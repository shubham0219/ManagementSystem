function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,r,o){return r&&_defineProperties(e.prototype,r),o&&_defineProperties(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{PgJR:function(e,r,o){"use strict";o.r(r),o.d(r,"EmployeeModule",(function(){return A}));var i=o("tyNb"),l=o("ofXK"),t=o("3Pt+"),n=o("fXoL"),a=o("qjMU");function m(e,r){if(1&e&&(n.Nb(0,"span",19),n.jc(1),n.Mb()),2&e){var o=n.Xb();n.Ab(1),n.lc(" ",o.formErrors.fullName," ")}}function c(e,r){if(1&e&&(n.Nb(0,"span",19),n.jc(1),n.Mb()),2&e){var o=n.Xb();n.Ab(1),n.lc(" ",o.formErrors.email," ")}}function b(e,r){if(1&e&&(n.Nb(0,"span",19),n.jc(1),n.Mb()),2&e){var o=n.Xb();n.Ab(1),n.lc(" ",o.formErrors.confirmEmail?o.formErrors.confirmEmail:o.formErrors.emailGroup," ")}}function s(e,r){if(1&e&&(n.Nb(0,"span",19),n.jc(1),n.Mb()),2&e){var o=n.Xb();n.Ab(1),n.lc(" ",o.formErrors.phone," ")}}var u,f=function(e){return{"has-error":e}},p=((u=function(){function e(r,o,i,l){_classCallCheck(this,e),this.formBuilder=r,this.route=o,this.employeeService=i,this.router=l,this.validationMessages={fullName:{required:"Full Name is required.",minlength:"Full Name must be greater than 2 characters.",maxlength:"Full Name must be less than 30 characters."},email:{required:"E-mail is required.",pattern:"E-mail must be a valid email address."},confirmEmail:{required:"Confirm e-mail is required.",pattern:"Confirm e-mail must be a valid email address."},emailGroup:{emailMismatch:"E-mail & Confirm E-mail do not match."},phone:{required:"Phone number is required.",pattern:"Phone number must be of 10 digits"}},this.formErrors={fullName:"",email:"",confirmEmail:"",emailGroup:"",phone:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.employeeForm=this.formBuilder.group({fullName:["",[t.k.required,t.k.minLength(2),t.k.maxLength(30)]],emailGroup:this.formBuilder.group({email:["",[t.k.required,t.k.pattern("^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$")]],confirmEmail:["",[t.k.required,t.k.pattern("^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$")]]},{validators:d}),phone:["",[t.k.required,t.k.pattern("^[0-9]{3}-[0-9]{3}-[0-9]{4}|[0-9]{10}$")]]}),this.employeeForm.valueChanges.subscribe((function(r){e.logValidationErrors(e.employeeForm)})),this.route.paramMap.subscribe((function(r){var o=+r.get("id");o?(e.pageTitle="Edit Employee",e.getEmployee(o)):(e.pageTitle="Create Employee",e.employee={id:null,fullName:"",email:"",phone:null})}))}},{key:"getEmployee",value:function(e){var r=this;this.employeeService.getEmployee(e).subscribe((function(e){r.employee=e,r.editEmployee(e)}),(function(e){return console.log(e)}))}},{key:"editEmployee",value:function(e){this.employeeForm.patchValue({fullName:e.fullName,emailGroup:{email:e.email,confirmEmail:e.email},phone:e.phone})}},{key:"onSubmit",value:function(){var e=this;this.mapFormValuesToEmpModal(),this.employee.id?this.employeeService.updateEmployee(this.employee).subscribe((function(){return e.router.navigate(["employees"])}),(function(e){return console.log(e)})):this.employeeService.addEmployee(this.employee).subscribe((function(){return e.router.navigate(["employees"])}),(function(e){return console.log(e)}))}},{key:"mapFormValuesToEmpModal",value:function(){this.employee.fullName=this.employeeForm.value.fullName,this.employee.email=this.employeeForm.value.emailGroup.email,this.employee.phone=this.employeeForm.value.phone}},{key:"logValidationErrors",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.employeeForm;Object.keys(r.controls).forEach((function(o){var i=r.get(o);if(e.formErrors[o]="",i&&!i.valid&&(i.touched||i.dirty||""!==i.value)){var l=e.validationMessages[o];for(var n in i.errors)n&&(e.formErrors[o]+=l[n]+"")}i instanceof t.d&&e.logValidationErrors(i)}))}}]),e}()).\u0275fac=function(e){return new(e||u)(n.Kb(t.b),n.Kb(i.a),n.Kb(a.a),n.Kb(i.b))},u.\u0275cmp=n.Eb({type:u,selectors:[["app-create-employee"]],decls:35,vars:19,consts:[[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"panel","panel-primary"],[1,"panel-heading"],[1,"panel-title"],[1,"panel-body"],[1,"form-group",3,"ngClass"],["for","fullName",1,"col-sm-2","control-label"],[1,"col-sm-8"],["id","fullName","type","text","formControlName","fullName",1,"form-control",3,"blur"],["class","help-block",4,"ngIf"],["formGroupName","emailGroup"],["for","email",1,"col-sm-2","control-label"],["id","email","type","email","formControlName","email",1,"form-control",3,"blur"],["for","confirmEmail",1,"col-sm-2","control-label"],["id","confirmEmail","type","email","formControlName","confirmEmail",1,"form-control",3,"blur"],["for","phone",1,"col-sm-2","control-label"],["id","phone","type","text","formControlName","phone",1,"form-control",3,"blur"],[1,"panel-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"help-block"]],template:function(e,r){1&e&&(n.Nb(0,"form",0),n.Vb("ngSubmit",(function(){return r.onSubmit()})),n.Nb(1,"div",1),n.Nb(2,"div",2),n.Nb(3,"h3",3),n.jc(4),n.Mb(),n.Mb(),n.Nb(5,"div",4),n.Nb(6,"div",5),n.Nb(7,"label",6),n.jc(8,"Full Name"),n.Mb(),n.Nb(9,"div",7),n.Nb(10,"input",8),n.Vb("blur",(function(){return r.logValidationErrors()})),n.Mb(),n.ic(11,m,2,1,"span",9),n.Mb(),n.Mb(),n.Nb(12,"div",10),n.Nb(13,"div",5),n.Nb(14,"label",11),n.jc(15,"E-mail"),n.Mb(),n.Nb(16,"div",7),n.Nb(17,"input",12),n.Vb("blur",(function(){return r.logValidationErrors()})),n.Mb(),n.ic(18,c,2,1,"span",9),n.Mb(),n.Mb(),n.Nb(19,"div",5),n.Nb(20,"label",13),n.jc(21,"Confirm E-mail"),n.Mb(),n.Nb(22,"div",7),n.Nb(23,"input",14),n.Vb("blur",(function(){return r.logValidationErrors()})),n.Mb(),n.ic(24,b,2,1,"span",9),n.Mb(),n.Mb(),n.Mb(),n.Nb(25,"div",5),n.Nb(26,"label",15),n.jc(27,"Phone"),n.Mb(),n.Nb(28,"div",7),n.Nb(29,"input",16),n.Vb("blur",(function(){return r.logValidationErrors()})),n.Mb(),n.ic(30,s,2,1,"span",9),n.Mb(),n.Mb(),n.Nb(31,"div",17),n.Nb(32,"button",18),n.jc(33,"Save"),n.Mb(),n.Mb(),n.Mb(),n.Mb(),n.Mb(),n.Lb(34,"br")),2&e&&(n.ac("formGroup",r.employeeForm),n.Ab(4),n.kc(r.pageTitle),n.Ab(2),n.ac("ngClass",n.bc(11,f,r.formErrors.fullName)),n.Ab(5),n.ac("ngIf",r.formErrors.fullName),n.Ab(2),n.ac("ngClass",n.bc(13,f,r.formErrors.email)),n.Ab(5),n.ac("ngIf",r.formErrors.email),n.Ab(1),n.ac("ngClass",n.bc(15,f,r.formErrors.confirmEmail||r.formErrors.emailGroup)),n.Ab(5),n.ac("ngIf",r.formErrors.confirmEmail||r.formErrors.emailGroup),n.Ab(1),n.ac("ngClass",n.bc(17,f,r.formErrors.phone)),n.Ab(5),n.ac("ngIf",r.formErrors.phone),n.Ab(2),n.ac("disabled",r.employeeForm.invalid))},directives:[t.l,t.i,t.e,l.h,t.a,t.h,t.c,l.j,t.f],styles:[".btn[_ngcontent-%COMP%]{margin-left:5px}hr[_ngcontent-%COMP%]{border:1px solid silver}"]}),u);function d(e){var r=e.get("email"),o=e.get("confirmEmail");return r.value===o.value||o.pristine&&""===o.value?null:{emailMismatch:!0}}function h(e,r){if(1&e){var o=n.Ob();n.Nb(0,"tr"),n.Nb(1,"td"),n.jc(2),n.Mb(),n.Nb(3,"td"),n.jc(4),n.Mb(),n.Nb(5,"td"),n.jc(6),n.Mb(),n.Nb(7,"td"),n.Nb(8,"button",6),n.Vb("click",(function(){n.dc(o);var e=r.$implicit;return n.Xb(2).editEmployee(e.id)})),n.jc(9," Edit "),n.Mb(),n.Nb(10,"button",7),n.Vb("click",(function(){n.dc(o);var e=r.$implicit;return n.Xb(2).delete(e.id)})),n.jc(11," Delete "),n.Mb(),n.Mb(),n.Mb()}if(2&e){var i=r.$implicit;n.Ab(2),n.kc(i.fullName),n.Ab(2),n.kc(i.email),n.Ab(2),n.kc(i.phone)}}function y(e,r){if(1&e&&(n.Nb(0,"table",3),n.Nb(1,"thead"),n.Nb(2,"tr",4),n.Nb(3,"th"),n.jc(4,"Name"),n.Mb(),n.Nb(5,"th"),n.jc(6,"Email"),n.Mb(),n.Nb(7,"th"),n.jc(8,"Phone"),n.Mb(),n.Nb(9,"th"),n.jc(10,"Action"),n.Mb(),n.Mb(),n.Mb(),n.Nb(11,"tbody"),n.ic(12,h,12,3,"tr",5),n.Mb(),n.Mb()),2&e){var o=n.Xb();n.Ab(12),n.ac("ngForOf",o.employees)}}function v(e,r){1&e&&(n.Nb(0,"div",8),n.Nb(1,"h2",9),n.jc(2,"No records available."),n.Mb(),n.Mb())}var g,N,E,M,k=[{path:"",component:(g=function(){function e(r,o){_classCallCheck(this,e),this.employeeService=r,this.router=o}return _createClass(e,[{key:"ngOnInit",value:function(){this.getEmployees()}},{key:"getEmployees",value:function(){var e=this;this.employeeService.getEmployees().subscribe((function(r){return e.employees=r}),(function(e){return console.log(e)}))}},{key:"editEmployee",value:function(e){this.router.navigate(["/employees/edit",e])}},{key:"delete",value:function(e){var r=this;confirm("Are you sure you want to delete this employee record ?")&&this.employeeService.deleteEmployee(e).subscribe((function(e){r.getEmployees()}))}}]),e}(),g.\u0275fac=function(e){return new(e||g)(n.Kb(a.a),n.Kb(i.b))},g.\u0275cmp=n.Eb({type:g,selectors:[["app-list-employee"]],decls:3,vars:2,consts:[[1,"table-responsive"],["class","table table-bordered",4,"ngIf"],["class","ml-3 mb-4",4,"ngIf"],[1,"table","table-bordered"],[1,"bg-primary"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"ml-3","mb-4"],[1,"data-msg","mt-4","ml-2"]],template:function(e,r){1&e&&(n.Nb(0,"div",0),n.ic(1,y,13,1,"table",1),n.ic(2,v,3,0,"div",2),n.Mb()),2&e&&(n.Ab(1),n.ac("ngIf",r.employees&&r.employees.length),n.Ab(1),n.ac("ngIf",0==(null==r.employees?null:r.employees.length)||!r.employees))},directives:[l.j,l.i],styles:[".btn-danger[_ngcontent-%COMP%]{margin-left:5px}"]}),g)},{path:"create",component:p},{path:"edit/:id",component:p}],C=((M=function e(){_classCallCheck(this,e)}).\u0275mod=n.Ib({type:M}),M.\u0275inj=n.Hb({factory:function(e){return new(e||M)},imports:[[i.e.forChild(k),t.g,t.j,l.b],i.e]}),M),j=((E=function e(){_classCallCheck(this,e)}).\u0275mod=n.Ib({type:E}),E.\u0275inj=n.Hb({factory:function(e){return new(e||E)},imports:[[],l.b,t.j]}),E),A=((N=function e(){_classCallCheck(this,e)}).\u0275mod=n.Ib({type:N}),N.\u0275inj=n.Hb({factory:function(e){return new(e||N)},imports:[[C,j]]}),N)}}]);